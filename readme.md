# Dotfiles and CLI Toolkit

This directory holds the configuration that keeps my terminal-centric workflow consistent across machines. Everything is meant to live inside `~/.config`, so restoring the environment usually only requires cloning this repo (or syncing the files) and symlinking the folders that matter on a new host.

## Quick Start

1. Clone or copy this directory into place: `git clone <repo> ~/.config`.
2. For each tool you care about, symlink its subdirectory into the location the tool expects (most utilities already read directly from `~/.config/<tool>`).
3. Launch the app (Neovim, tmux, zsh, etc.) and verify nothing errors. Missing binaries will be called out in the relevant section below.
4. For Neovim, make sure you’re on v0.12+ (nightly at the moment) so the native package manager can pull down the plugins declared in `nvim/init.lua` the first time you start it.

## Repository Layout

| Path | Purpose |
| --- | --- |
| `gh/` | GitHub CLI defaults such as protocol, aliasing (`gh co` → `gh pr checkout`), and host profile. |
| `nvim/` | Lua-based Neovim configuration with plugins, LSP/autocompletion, and formatting rules. |
| `tmux/` | tmux 3.2+ configuration that remaps the prefix, adjusts status styling, and defines pane helpers. |
| `zsh/` | Zsh dotfiles (`.zshrc`, completion caches, history, session files). |

## Neovim (`nvim/`)

- Requires Neovim 0.12+ so `vim.pack` is available. Earlier releases will ignore the plugin declarations and won’t install anything.
- `init.lua` declares plugins via `vim.pack.add`. Right now that list only pulls `neovim/nvim-lspconfig`, but the pattern scales linearly—drop another `{ src = "<repo>" }` into the table, and Neovim will fetch it on the next start.
- `nvim-pack-lock.json` is generated by Neovim and pins each plugin to a commit. Delete it to let Neovim repin, or edit it by hand if you want to track a specific SHA.
- No external plugin manager or bootstrap script is needed. Launch `nvim` and the native manager handles fetching/updating pinned repos automatically; `:PackUpdate` and `:PackClean` mirror the CLI helpers you’d expect from third-party managers.
- LSP is configured directly in `init.lua` using the new `vim.lsp.enable` helper. Right now `pyright` and `sqls` are enabled, so make sure those language servers are available on your `$PATH` (Homebrew installs work fine).

## tmux (`tmux/tmux.conf`)

- Prefix is remapped to `Ctrl-a`; `Ctrl-a` sends the prefix twice if needed (`bind-key C-a send-prefix`).
- Reload quickly via `prefix + r`, which also pops a “reload!!” message.
- Pane management mirrors Vim: `prefix + h/j/k/l` to move, `H/J/K/L` (repeatable) to resize by 5 cells.
- Splits use `prefix + -` (horizontal) and `prefix + |` (vertical). Pane indexes start at 1 with `mode-keys vi`.
- Visual tweaks set a minimal statusline (`status-left/right` empty) using orange-on-black accents, and enable RGB support via `default-terminal "tmux-256color"` plus `terminal-features`.
- Extra niceties: escape-time lowered to 1ms for snappy key chords, popup window bound to `prefix + p` and centered at 80% size.

## GitHub CLI (`gh/`)

- Global `git_protocol` is HTTPS for compatibility on locked-down networks.
- Prompting is enabled (no editor-based prompt), spinner stays on, and color labels are disabled for consistent output across terminals.
- `aliases.co` shortens `gh pr checkout`, and `hosts.yml` keeps tokens scoped to the `ixidod` GitHub account.

## Zsh (`zsh/.zshrc`)

- Targets macOS with Homebrew in `/opt/homebrew`, so it sources `brew shellenv` **before** running `compinit`.
- Python tooling is configured through `pyenv`; the init snippets ensure shims precede other PATH entries.
- Editor defaults to Neovim (`EDITOR=nvim`), `bindkey -v` enables vi-style line editing, and `vi` is aliased to `nvim`.
- Useful aliases: `snowsql` points to the GUI install, and `nvim-update` loops through every plugin repo under `~/.local/share/nvim/site/pack`.
- PATH includes Homebrew, Go (`GOPATH/bin`), pyenv shims, and user-specific bins; `NO_CASE_GLOB` keeps filename matches case-insensitive.
- Completion setup loads native `compinit`, then `bashcompinit` for Terraform, while `fzf` keybindings are sourced via `source <(fzf --zsh)` and `complete -C /opt/homebrew/bin/terraform terraform` wires terraform completions.

---

When in doubt, read the Lua files next to the tool you’re tweaking; they’re short by design and heavily commented where behavior is not obvious. Pull requests and notes-to-self about why a specific choice was made are welcome—document them here to keep future migrations easy.
